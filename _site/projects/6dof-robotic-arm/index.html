<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6-DOF Robotic Arm with Vision System - MESGRO - Robotics & Mechatronics Portfolio</title>
    <meta name="description"
        content="An advanced 6-degree-of-freedom robotic arm with computer vision capabilities for object detection, picking, and precise placement tasks.">

    <!-- Apply theme immediately to prevent flash -->
    <script>
        (function () {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>

    <!-- SEO -->
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>6-DOF Robotic Arm with Vision System | MESGRO - Robotics &amp; Mechatronics Portfolio</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="6-DOF Robotic Arm with Vision System" />
<meta name="author" content="Your Name" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An advanced 6-degree-of-freedom robotic arm with computer vision capabilities for object detection, picking, and precise placement tasks." />
<meta property="og:description" content="An advanced 6-degree-of-freedom robotic arm with computer vision capabilities for object detection, picking, and precise placement tasks." />
<link rel="canonical" href="http://localhost:4000/MESGRO/projects/6dof-robotic-arm/" />
<meta property="og:url" content="http://localhost:4000/MESGRO/projects/6dof-robotic-arm/" />
<meta property="og:site_name" content="MESGRO - Robotics &amp; Mechatronics Portfolio" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-09-20T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="6-DOF Robotic Arm with Vision System" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Your Name"},"dateModified":"2024-09-20T00:00:00+02:00","datePublished":"2024-09-20T00:00:00+02:00","description":"An advanced 6-degree-of-freedom robotic arm with computer vision capabilities for object detection, picking, and precise placement tasks.","headline":"6-DOF Robotic Arm with Vision System","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/MESGRO/projects/6dof-robotic-arm/"},"url":"http://localhost:4000/MESGRO/projects/6dof-robotic-arm/"}</script>
<!-- End Jekyll SEO tag -->


    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="/MESGRO/assets/css/main.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/MESGRO/assets/images/favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/MESGRO/assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/MESGRO/assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/MESGRO/assets/images/favicon-16x16.png">
</head>

<body>
    <canvas id="canvas-bg"></canvas>

    <header class="site-header">
    <div class="container">
        <div class="header-content">
            <div class="site-brand">
                <a href="/MESGRO/" class="brand-link">
                    <span class="brand-text">MESGRO</span>
                </a>
            </div>

            <nav class="site-nav" id="site-nav">
                <ul class="nav-list">
                    
                    <li class="nav-item">
                        <a href="/MESGRO/"
                            class="nav-link ">
                            Home
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a href="/MESGRO/projects/"
                            class="nav-link ">
                            Projects
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a href="/MESGRO/about/"
                            class="nav-link ">
                            About
                        </a>
                    </li>
                    
                </ul>
            </nav>

            <div class="header-actions">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>

                <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </div>
    </div>
</header>

    <main id="main-content">
        <div class="project-hero">
    <div class="container">
        <div class="project-header">
            <h1 class="project-title">6-DOF Robotic Arm with Vision System</h1>
            <p class="project-description">An advanced 6-degree-of-freedom robotic arm with computer vision capabilities for object detection, picking, and precise placement tasks.</p>

            <div class="project-meta">
                
                <a href="https://github.com/aojedao/6dof-robotic-arm" class="btn-github" target="_blank">
                    <i class="fab fa-github"></i> View on GitHub
                </a>
                

                
                <a href="#" class="btn-demo" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Live Demo
                </a>
                
            </div>
        </div>
    </div>
</div>

<div class="project-content">
    <div class="container">

        <div class="project-header-simple">
            <h1 class="project-title-simple">6-DOF Robotic Arm with Vision System</h1>
        </div>

        <div class="project-split-layout">
            <!-- Left Column: Text & Info -->
            <div class="project-left-panel">

                <!-- Overview / Description -->
                <section class="project-section-clean" id="description">
                    <h3>Overview</h3>
                    <div class="project-description-content">
                        <p class="project-lead">An advanced 6-degree-of-freedom robotic arm with computer vision capabilities for object detection, picking, and precise placement tasks.</p>
                        <h2 id="project-overview">Project Overview</h2>

<p>This project presents the design and implementation of a sophisticated 6-degree-of-freedom robotic arm integrated with a computer vision system for autonomous object manipulation. The system combines advanced inverse kinematics algorithms, real-time object detection using YOLO, and precise servo control to achieve accurate pick-and-place operations.</p>

<h2 id="key-features">Key Features</h2>

<h3 id="mechanical-design">Mechanical Design</h3>
<ul>
  <li><strong>6 Degrees of Freedom</strong>: Full spatial manipulation capability</li>
  <li><strong>Precision Joints</strong>: Ball bearing supported joints for smooth operation</li>
  <li><strong>Custom Gripper</strong>: Force-feedback enabled end-effector</li>
  <li><strong>Modular Design</strong>: Easy maintenance and component replacement</li>
</ul>

<h3 id="intelligent-control-system">Intelligent Control System</h3>
<ul>
  <li><strong>Inverse Kinematics</strong>: Real-time calculation of joint angles for desired positions</li>
  <li><strong>Path Planning</strong>: Smooth trajectory generation with obstacle avoidance</li>
  <li><strong>Force Control</strong>: Gentle object handling with force feedback</li>
  <li><strong>Safety Limits</strong>: Joint limit protection and collision detection</li>
</ul>

<h3 id="computer-vision">Computer Vision</h3>
<ul>
  <li><strong>Real-time Object Detection</strong>: YOLO-based detection of common objects</li>
  <li><strong>3D Position Estimation</strong>: Convert 2D detections to 3D world coordinates</li>
  <li><strong>Object Classification</strong>: Identify and categorize manipulation targets</li>
  <li><strong>Visual Servoing</strong>: Closed-loop control using visual feedback</li>
</ul>

<h2 id="technical-specifications">Technical Specifications</h2>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Specification</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Reach</strong></td>
      <td>400mm maximum</td>
    </tr>
    <tr>
      <td><strong>Payload</strong></td>
      <td>500g maximum</td>
    </tr>
    <tr>
      <td><strong>Repeatability</strong></td>
      <td>±2mm</td>
    </tr>
    <tr>
      <td><strong>Joint Resolution</strong></td>
      <td>0.1° per step</td>
    </tr>
    <tr>
      <td><strong>Operating Speed</strong></td>
      <td>50°/second maximum</td>
    </tr>
    <tr>
      <td><strong>Vision Resolution</strong></td>
      <td>1920x1080 @ 30fps</td>
    </tr>
    <tr>
      <td><strong>Processing Power</strong></td>
      <td>Raspberry Pi 4B (4GB RAM)</td>
    </tr>
    <tr>
      <td><strong>Control Frequency</strong></td>
      <td>100Hz servo update rate</td>
    </tr>
  </tbody>
</table>

<h2 id="system-architecture">System Architecture</h2>

<h3 id="hardware-architecture">Hardware Architecture</h3>
<ol>
  <li><strong>Raspberry Pi 4B</strong>: Main processing unit running computer vision and high-level control</li>
  <li><strong>Arduino Mega</strong>: Real-time servo control and sensor interface</li>
  <li><strong>PCA9685</strong>: 16-channel PWM driver for precise servo control</li>
  <li><strong>USB Camera</strong>: High-resolution camera for object detection</li>
  <li><strong>Custom PCB</strong>: Power distribution and signal conditioning</li>
</ol>

<h3 id="software-architecture">Software Architecture</h3>
<ul>
  <li><strong>ROS (Robot Operating System)</strong>: Communication between components</li>
  <li><strong>OpenCV</strong>: Computer vision processing</li>
  <li><strong>PyTorch/YOLO</strong>: Object detection and classification</li>
  <li><strong>NumPy</strong>: Mathematical computations for kinematics</li>
  <li><strong>Arduino Firmware</strong>: Low-level servo control and safety systems</li>
</ul>

<h2 id="inverse-kinematics-solution">Inverse Kinematics Solution</h2>

<p>The system uses a hybrid approach combining analytical and numerical methods:</p>

<h3 id="analytical-solution">Analytical Solution</h3>
<p>For the first three joints (positioning the wrist):</p>
<ol>
  <li><strong>Base Rotation (θ₁)</strong>: <code class="language-plaintext highlighter-rouge">θ₁ = atan2(y, x)</code></li>
  <li><strong>Shoulder/Elbow (θ₂, θ₃)</strong>: Solved using geometric relationships</li>
  <li><strong>Wrist Orientation (θ₄, θ₅, θ₆)</strong>: Decoupled from position</li>
</ol>

<h3 id="numerical-refinement">Numerical Refinement</h3>
<ul>
  <li><strong>Jacobian-based optimization</strong> for improved accuracy</li>
  <li><strong>Joint limit enforcement</strong> throughout the solution process</li>
  <li><strong>Singularity avoidance</strong> using damped least squares</li>
</ul>

<h2 id="computer-vision-pipeline">Computer Vision Pipeline</h2>

<h3 id="1-image-acquisition">1. Image Acquisition</h3>
<ul>
  <li><strong>Camera Calibration</strong>: Corrects for lens distortion and determines intrinsic parameters</li>
  <li><strong>Frame Capture</strong>: 30fps continuous capture with automatic exposure control</li>
  <li><strong>Image Preprocessing</strong>: Noise reduction and contrast enhancement</li>
</ul>

<h3 id="2-object-detection">2. Object Detection</h3>
<ul>
  <li><strong>YOLO Model</strong>: Pre-trained on COCO dataset with custom fine-tuning</li>
  <li><strong>Confidence Filtering</strong>: Only detections above 50% confidence are processed</li>
  <li><strong>Non-Maximum Suppression</strong>: Eliminates duplicate detections</li>
</ul>

<h3 id="3-3d-position-estimation">3. 3D Position Estimation</h3>
<ul>
  <li><strong>Depth Estimation</strong>: Uses object size and known camera parameters</li>
  <li><strong>Coordinate Transformation</strong>: Converts from camera to robot base coordinates</li>
  <li><strong>Position Validation</strong>: Checks if objects are within reachable workspace</li>
</ul>

<details class="assembly-details">
<summary>Assembly Instructions</summary>
<div class="assembly-content">

    <h3 id="mechanical-assembly">Mechanical Assembly</h3>
    <ol>
      <li><strong>Base Assembly</strong>: Mount servos to the base plate using M3 screws.</li>
      <li><strong>Arm Segments</strong>: Connect the lower and upper arm segments, ensuring smooth bearing rotation.</li>
      <li><strong>Gripper</strong>: Attach the custom gripper to the wrist servo.</li>
    </ol>

    <h3 id="electronics-assembly">Electronics Assembly</h3>
    <ol>
      <li><strong>Wiring</strong>: Connect all servos to the PCA9685 driver board.</li>
      <li><strong>Controller</strong>: Connect the Raspberry Pi and Arduino via USB.</li>
      <li><strong>Power</strong>: Connect the 12V power supply to the servo driver.</li>
    </ol>

  </div>
</details>

<h2 id="control-strategy">Control Strategy</h2>

<h3 id="motion-planning">Motion Planning</h3>
<ol>
  <li><strong>Trajectory Generation</strong>: Smooth paths using cubic spline interpolation</li>
  <li><strong>Velocity Profiling</strong>: Trapezoidal velocity profiles for smooth motion</li>
  <li><strong>Acceleration Limits</strong>: Respects mechanical constraints and stability</li>
</ol>

<h3 id="safety-systems">Safety Systems</h3>
<ul>
  <li><strong>Joint Limit Monitoring</strong>: Software and hardware joint limit switches</li>
  <li><strong>Emergency Stop</strong>: Immediate halt capability via hardware interrupt</li>
  <li><strong>Collision Detection</strong>: Basic collision avoidance using workspace boundaries</li>
  <li><strong>Force Limiting</strong>: Gripper force monitoring to prevent object damage</li>
</ul>

<h1 id="data-analysis--visualization">Data Analysis &amp; Visualization</h1>

<h2 id="kinematic-analysis-plots">Kinematic Analysis Plots</h2>

<h3 id="forward-kinematics-verification">Forward Kinematics Verification</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>

<span class="c1"># Joint angles for testing (radians)
</span><span class="n">joint_configs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>           <span class="c1"># Home position
</span>    <span class="p">[</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>  <span class="c1"># Sample config 1
</span>    <span class="p">[</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># Sample config 2
</span><span class="p">]</span>

<span class="c1"># End-effector positions calculated from forward kinematics
</span><span class="n">positions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span>      <span class="c1"># Home position
</span>    <span class="p">[</span><span class="mi">156</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">298</span><span class="p">],</span>    <span class="c1"># Config 1
</span>    <span class="p">[</span><span class="mi">45</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">187</span><span class="p">]</span>       <span class="c1"># Config 2
</span><span class="p">]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># 3D workspace visualization
</span><span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s">'3d'</span><span class="p">)</span>
<span class="n">x_pos</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">positions</span><span class="p">]</span>
<span class="n">y_pos</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">positions</span><span class="p">]</span>
<span class="n">z_pos</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">positions</span><span class="p">]</span>

<span class="n">ax1</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">z_pos</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="s">'red'</span><span class="p">,</span> <span class="s">'blue'</span><span class="p">,</span> <span class="s">'green'</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'X (mm)'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Y (mm)'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s">'Z (mm)'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'End-Effector Positions'</span><span class="p">)</span>

<span class="c1"># Joint angles comparison
</span><span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">joint_names</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Base'</span><span class="p">,</span> <span class="s">'Shoulder'</span><span class="p">,</span> <span class="s">'Elbow'</span><span class="p">,</span> <span class="s">'Wrist1'</span><span class="p">,</span> <span class="s">'Wrist2'</span><span class="p">,</span> <span class="s">'Wrist3'</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">joint_names</span><span class="p">))</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">config</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">joint_configs</span><span class="p">):</span>
    <span class="n">ax2</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">i</span><span class="o">*</span><span class="n">width</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">config</span><span class="p">),</span> <span class="n">width</span><span class="p">,</span> 
            <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s">'Config </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s">'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">ax2</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Joint'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Angle (degrees)'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Joint Angle Configurations'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">joint_names</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="inverse-kinematics-convergence">Inverse Kinematics Convergence</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># IK solver performance analysis
</span><span class="n">target_positions</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># Random targets
</span><span class="n">convergence_iterations</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">final_errors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">target_positions</span><span class="p">:</span>
    <span class="c1"># Simulate IK solver (simplified)
</span>    <span class="n">iterations</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>  <span class="c1"># Typical convergence
</span>    <span class="n">error</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">exponential</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>     <span class="c1"># Final position error (mm)
</span>    
    <span class="n">convergence_iterations</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterations</span><span class="p">)</span>
    <span class="n">final_errors</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># Convergence iterations histogram
</span><span class="n">ax1</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">convergence_iterations</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'skyblue'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Iterations to Converge'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Frequency'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'IK Solver Convergence Distribution'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Final error distribution
</span><span class="n">ax2</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">final_errors</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'lightcoral'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Final Position Error (mm)'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Frequency'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'IK Solution Accuracy'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="pick-and-place-performance-analysis">Pick-and-Place Performance Analysis</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Performance metrics over time
</span><span class="n">test_runs</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>
<span class="n">cycle_times</span> <span class="o">=</span> <span class="mi">12</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">test_runs</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">success_rate</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">100</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.06</span><span class="p">,</span> <span class="mf">0.94</span><span class="p">]))</span> <span class="o">/</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>
<span class="n">positioning_error</span> <span class="o">=</span> <span class="mf">1.2</span> <span class="o">+</span> <span class="mf">0.3</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">test_runs</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.05</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">,</span> <span class="n">ax3</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># Cycle time over runs
</span><span class="n">ax1</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">test_runs</span><span class="p">,</span> <span class="n">cycle_times</span><span class="p">,</span> <span class="s">'b-'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'r'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Target (12s)'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Cycle Time (s)'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Pick-and-Place Cycle Time Performance'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Cumulative success rate
</span><span class="n">ax2</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">test_runs</span><span class="p">,</span> <span class="n">success_rate</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="s">'g-'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Success Rate (%)'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Cumulative Success Rate'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">85</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># Positioning error
</span><span class="n">ax3</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">test_runs</span><span class="p">,</span> <span class="n">positioning_error</span><span class="p">,</span> <span class="s">'orange'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'r'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Mean Error (1.2mm)'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Test Run'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Position Error (mm)'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'End-Effector Positioning Accuracy'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="computer-vision-analysis">Computer Vision Analysis</h2>

<h3 id="object-detection-performance">Object Detection Performance</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># YOLO detection performance metrics
</span><span class="n">object_types</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Cube'</span><span class="p">,</span> <span class="s">'Cylinder'</span><span class="p">,</span> <span class="s">'Sphere'</span><span class="p">,</span> <span class="s">'Complex'</span><span class="p">]</span>
<span class="n">detection_rates</span> <span class="o">=</span> <span class="p">[</span><span class="mf">96.5</span><span class="p">,</span> <span class="mf">94.2</span><span class="p">,</span> <span class="mf">91.8</span><span class="p">,</span> <span class="mf">87.3</span><span class="p">]</span>  <span class="c1"># Success rates (%)
</span><span class="n">avg_detection_time</span> <span class="o">=</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span>        <span class="c1"># ms
</span><span class="n">confidence_scores</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.89</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span> <span class="mf">0.78</span><span class="p">]</span> <span class="c1"># Average confidence
</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">((</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">),</span> <span class="p">(</span><span class="n">ax3</span><span class="p">,</span> <span class="n">ax4</span><span class="p">))</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># Detection success rates
</span><span class="n">bars1</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">object_types</span><span class="p">,</span> <span class="n">detection_rates</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s">'red'</span><span class="p">,</span> <span class="s">'blue'</span><span class="p">,</span> <span class="s">'green'</span><span class="p">,</span> <span class="s">'orange'</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Detection Rate (%)'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Object Detection Success Rate by Type'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="k">for</span> <span class="n">bar</span><span class="p">,</span> <span class="n">rate</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">bars1</span><span class="p">,</span> <span class="n">detection_rates</span><span class="p">):</span>
    <span class="n">ax1</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">bar</span><span class="p">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">,</span> 
             <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">rate</span><span class="si">}</span><span class="s">%'</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'center'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">)</span>

<span class="c1"># Detection time
</span><span class="n">bars2</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">object_types</span><span class="p">,</span> <span class="n">avg_detection_time</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s">'red'</span><span class="p">,</span> <span class="s">'blue'</span><span class="p">,</span> <span class="s">'green'</span><span class="p">,</span> <span class="s">'orange'</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Detection Time (ms)'</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Average Detection Time by Object Type'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">bar</span><span class="p">,</span> <span class="n">time</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">bars2</span><span class="p">,</span> <span class="n">avg_detection_time</span><span class="p">):</span>
    <span class="n">ax2</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">bar</span><span class="p">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> 
             <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s">ms'</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'center'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">)</span>

<span class="c1"># Confidence scores
</span><span class="n">bars3</span> <span class="o">=</span> <span class="n">ax3</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">object_types</span><span class="p">,</span> <span class="n">confidence_scores</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s">'red'</span><span class="p">,</span> <span class="s">'blue'</span><span class="p">,</span> <span class="s">'green'</span><span class="p">,</span> <span class="s">'orange'</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Confidence Score'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Average Confidence Score by Object Type'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="k">for</span> <span class="n">bar</span><span class="p">,</span> <span class="n">conf</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">bars3</span><span class="p">,</span> <span class="n">confidence_scores</span><span class="p">):</span>
    <span class="n">ax3</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">bar</span><span class="p">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.01</span><span class="p">,</span> 
             <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">conf</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">'</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'center'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">)</span>

<span class="c1"># Overall system performance
</span><span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Position</span><span class="se">\n</span><span class="s">Accuracy'</span><span class="p">,</span> <span class="s">'Repeatability'</span><span class="p">,</span> <span class="s">'Detection</span><span class="se">\n</span><span class="s">Rate'</span><span class="p">,</span> <span class="s">'Cycle</span><span class="se">\n</span><span class="s">Time'</span><span class="p">]</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">98.8</span><span class="p">,</span> <span class="mf">99.2</span><span class="p">,</span> <span class="mf">94.0</span><span class="p">,</span> <span class="mf">83.3</span><span class="p">]</span>  <span class="c1"># Normalized performance scores
</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'green'</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">90</span> <span class="k">else</span> <span class="s">'orange'</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">80</span> <span class="k">else</span> <span class="s">'red'</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>

<span class="n">bars4</span> <span class="o">=</span> <span class="n">ax4</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">metrics</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">ax4</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Performance Score (%)'</span><span class="p">)</span>
<span class="n">ax4</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Overall System Performance Metrics'</span><span class="p">)</span>
<span class="n">ax4</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="k">for</span> <span class="n">bar</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">bars4</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
    <span class="n">ax4</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">bar</span><span class="p">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">bar</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> 
             <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s">%'</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'center'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="performance-results">Performance Results</h2>

<h3 id="accuracy-testing">Accuracy Testing</h3>
<ul>
  <li><strong>Position Accuracy</strong>: Mean error of 1.2mm across workspace</li>
  <li><strong>Repeatability</strong>: Standard deviation of 0.8mm over 1000 cycles</li>
  <li><strong>Object Detection</strong>: 94% success rate for target objects</li>
</ul>

<h3 id="speed-performance">Speed Performance</h3>
<ul>
  <li><strong>Pick-Place Cycle</strong>: 12 seconds average for 200mm movement</li>
  <li><strong>Vision Processing</strong>: 25ms average detection time</li>
  <li><strong>Motion Planning</strong>: 5ms for typical 6-DOF trajectory</li>
</ul>

<h2 id="applications-demonstrated">Applications Demonstrated</h2>

<h3 id="1-automated-sorting">1. Automated Sorting</h3>
<ul>
  <li>Identifies objects by type and color</li>
  <li>Sorts items into designated containers</li>
  <li>Handles up to 15 objects per minute</li>
</ul>

<h3 id="2-assembly-tasks">2. Assembly Tasks</h3>
<ul>
  <li>Places components with sub-millimeter precision</li>
  <li>Inserts pegs into holes with visual guidance</li>
  <li>Adapts to slight positional variations</li>
</ul>

<h3 id="3-quality-inspection">3. Quality Inspection</h3>
<ul>
  <li>Photographs objects from multiple angles</li>
  <li>Measures dimensions using computer vision</li>
  <li>Rejects defective items automatically</li>
</ul>

<h2 id="lessons-learned">Lessons Learned</h2>

<h3 id="mechanical-design-1">Mechanical Design</h3>
<ol>
  <li><strong>Joint Stiffness</strong>: Critical for accuracy under load</li>
  <li><strong>Backlash Minimization</strong>: Use of anti-backlash gears improved precision by 40%</li>
  <li><strong>Thermal Management</strong>: Servo heating affects accuracy over time</li>
</ol>

<h3 id="software-development">Software Development</h3>
<ol>
  <li><strong>Real-time Performance</strong>: Separate threads for vision and control essential</li>
  <li><strong>Error Handling</strong>: Robust error recovery prevents system crashes</li>
  <li><strong>Calibration</strong>: Regular camera and kinematic calibration maintains accuracy</li>
</ol>

<h3 id="integration-challenges">Integration Challenges</h3>
<ol>
  <li><strong>Latency Management</strong>: Vision-to-motion latency must be under 100ms</li>
  <li><strong>Coordinate Frame Alignment</strong>: Precise calibration between camera and robot frames</li>
  <li><strong>Environmental Factors</strong>: Lighting conditions significantly affect detection reliability</li>
</ol>

<h2 id="future-enhancements">Future Enhancements</h2>

<h3 id="hardware-improvements">Hardware Improvements</h3>
<ul>
  <li><strong>Force/Torque Sensors</strong>: Each joint for better compliance control</li>
  <li><strong>Stereo Vision</strong>: Improved depth perception and accuracy</li>
  <li><strong>Upgraded Servos</strong>: Higher resolution encoders for better positioning</li>
</ul>

<h3 id="software-enhancements">Software Enhancements</h3>
<ul>
  <li><strong>Machine Learning</strong>: Adaptive grip force based on object properties</li>
  <li><strong>Advanced Planning</strong>: RRT* path planning for complex environments</li>
  <li><strong>Multi-Object Handling</strong>: Simultaneous tracking and manipulation of multiple objects</li>
</ul>

<h3 id="capability-expansion">Capability Expansion</h3>
<ul>
  <li><strong>Mobile Base</strong>: Integration with wheeled platform for larger workspace</li>
  <li><strong>Dual-Arm Coordination</strong>: Two-arm system for complex assembly tasks</li>
  <li><strong>Human-Robot Collaboration</strong>: Safe interaction with human operators</li>
</ul>


                    </div>
                </section>



                <!-- Code Section (Collapsible) -->
                
                <section class="project-section-clean" id="code">
                    <details class="code-details">
                        <summary>Code Files</summary>
                        <div class="code-list-container">
                            
                            <div class="code-file-wrapper">
                                
                                <details class="code-file-details">
                                    <summary class="code-file-summary">
                                        <span class="file-name"><i class="fas fa-code"></i> Inverse Kinematics</span>
                                        <div class="file-meta">
                                            <span class="lang-tag">python</span>
                                            
                                            <a href="https://github.com/aojedao/6dof-robotic-arm/blob/main/src/inverse_kinematics.py" class="file-download-icon" download
                                                title="Download"><i class="fas fa-download"></i></a>
                                            
                                        </div>
                                    </summary>
                                    <div class="code-block-content">
                                        <pre><code class="language-python">import numpy as np
import math

class RoboticArmIK:
    def __init__(self):
        # DH parameters for 6-DOF arm
        self.a = [0, 150, 120, 0, 0, 0]        # Link lengths (mm)
        self.d = [100, 0, 0, 95, 0, 60]        # Link offsets (mm)
        self.alpha = [90, 0, 0, 90, -90, 0]    # Link twists (degrees)
        
        # Convert degrees to radians
        self.alpha = [math.radians(a) for a in self.alpha]
        
    def forward_kinematics(self, joint_angles):
        &quot;&quot;&quot;
        Calculate forward kinematics using DH parameters
        &quot;&quot;&quot;
        T = np.eye(4)
        
        for i in range(6):
            theta = joint_angles[i]
            
            # DH transformation matrix
            ct = math.cos(theta)
            st = math.sin(theta)
            ca = math.cos(self.alpha[i])
            sa = math.sin(self.alpha[i])
            
            T_i = np.array([
                [ct, -st*ca,  st*sa, self.a[i]*ct],
                [st,  ct*ca, -ct*sa, self.a[i]*st],
                [0,   sa,     ca,    self.d[i]],
                [0,   0,      0,     1]
            ])
            
            T = np.dot(T, T_i)
        
        return T
        
    def inverse_kinematics(self, target_pos, target_orient):
        &quot;&quot;&quot;
        Calculate inverse kinematics using geometric approach
        &quot;&quot;&quot;
        x, y, z = target_pos
        
        # Calculate joint 1 (base rotation)
        theta1 = math.atan2(y, x)
        
        # Calculate wrist center position
        r = math.sqrt(x**2 + y**2)
        wrist_z = z - self.d[5]
        wrist_r = r
        
        # Calculate joint 3 (elbow)
        D = (wrist_r**2 + (wrist_z - self.d[0])**2 - 
             self.a[1]**2 - self.a[2]**2) / (2 * self.a[1] * self.a[2])
        
        if abs(D) &gt; 1:
            return None  # No solution exists
            
        theta3 = math.atan2(math.sqrt(1 - D**2), D)
        
        # Calculate joint 2 (shoulder)
        s3 = math.sin(theta3)
        c3 = math.cos(theta3)
        
        k1 = self.a[1] + self.a[2] * c3
        k2 = self.a[2] * s3
        
        theta2 = math.atan2(wrist_z - self.d[0], wrist_r) - math.atan2(k2, k1)
        
        # Calculate remaining joints based on orientation
        # This is simplified - full implementation would include orientation
        theta4 = 0  # Wrist pitch
        theta5 = 0  # Wrist roll
        theta6 = 0  # End-effector rotation
        
        return [theta1, theta2, theta3, theta4, theta5, theta6]
        
    def check_joint_limits(self, joint_angles):
        &quot;&quot;&quot;
        Check if joint angles are within limits
        &quot;&quot;&quot;
        limits = [
            (-180, 180),  # Base
            (-90, 90),    # Shoulder
            (-180, 0),    # Elbow
            (-180, 180),  # Wrist 1
            (-90, 90),    # Wrist 2
            (-180, 180)   # Wrist 3
        ]
        
        for i, (angle, (min_limit, max_limit)) in enumerate(zip(joint_angles, limits)):
            angle_deg = math.degrees(angle)
            if angle_deg &lt; min_limit or angle_deg &gt; max_limit:
                return False, f&quot;Joint {i+1} out of range: {angle_deg:.1f}°&quot;
        
        return True, &quot;All joints within limits&quot;

# Example usage
if __name__ == &quot;__main__&quot;:
    arm = RoboticArmIK()
    
    # Test forward kinematics
    joint_angles = [0, math.radians(45), math.radians(-90), 0, 0, 0]
    end_effector_pose = arm.forward_kinematics(joint_angles)
    
    print(&quot;End effector position:&quot;)
    print(f&quot;X: {end_effector_pose[0,3]:.1f} mm&quot;)
    print(f&quot;Y: {end_effector_pose[1,3]:.1f} mm&quot;)
    print(f&quot;Z: {end_effector_pose[2,3]:.1f} mm&quot;)
    
    # Test inverse kinematics
    target_pos = [200, 100, 150]
    target_orient = [0, 0, 0]  # Simplified
    
    solution = arm.inverse_kinematics(target_pos, target_orient)
    if solution:
        print(&quot;\nInverse kinematics solution:&quot;)
        for i, angle in enumerate(solution):
            print(f&quot;Joint {i+1}: {math.degrees(angle):.1f}°&quot;)
    else:
        print(&quot;\nNo valid solution found&quot;)
</code></pre>
                                    </div>
                                </details>
                                
                            </div>
                            
                            <div class="code-file-wrapper">
                                
                                <details class="code-file-details">
                                    <summary class="code-file-summary">
                                        <span class="file-name"><i class="fas fa-code"></i> Computer Vision</span>
                                        <div class="file-meta">
                                            <span class="lang-tag">python</span>
                                            
                                            <a href="https://github.com/aojedao/6dof-robotic-arm/blob/main/src/object_detection.py" class="file-download-icon" download
                                                title="Download"><i class="fas fa-download"></i></a>
                                            
                                        </div>
                                    </summary>
                                    <div class="code-block-content">
                                        <pre><code class="language-python">import cv2
import numpy as np
import torch
from ultralytics import YOLO

class ObjectDetectionSystem:
    def __init__(self, model_path=&#39;yolov8n.pt&#39;):
        self.model = YOLO(model_path)
        self.camera = cv2.VideoCapture(0)
        
        # Camera calibration parameters (example values)
        self.camera_matrix = np.array([
            [800, 0, 320],
            [0, 800, 240],
            [0, 0, 1]
        ], dtype=np.float32)
        
        self.dist_coeffs = np.array([0.1, -0.2, 0, 0, 0], dtype=np.float32)
        
        # Object classes we&#39;re interested in
        self.target_classes = [&#39;bottle&#39;, &#39;cup&#39;, &#39;book&#39;, &#39;cell phone&#39;]
        
    def capture_frame(self):
        &quot;&quot;&quot;Capture a frame from the camera&quot;&quot;&quot;
        ret, frame = self.camera.read()
        if ret:
            return cv2.undistort(frame, self.camera_matrix, self.dist_coeffs)
        return None
        
    def detect_objects(self, frame):
        &quot;&quot;&quot;Detect objects in the frame using YOLO&quot;&quot;&quot;
        results = self.model(frame)
        detections = []
        
        for result in results:
            boxes = result.boxes
            if boxes is not None:
                for box in boxes:
                    # Get bounding box coordinates
                    x1, y1, x2, y2 = box.xyxy[0].cpu().numpy()
                    confidence = box.conf[0].cpu().numpy()
                    class_id = int(box.cls[0].cpu().numpy())
                    class_name = self.model.names[class_id]
                    
                    if class_name in self.target_classes and confidence &gt; 0.5:
                        # Calculate center point
                        center_x = int((x1 + x2) / 2)
                        center_y = int((y1 + y2) / 2)
                        
                        detection = {
                            &#39;class&#39;: class_name,
                            &#39;confidence&#39;: confidence,
                            &#39;bbox&#39;: (int(x1), int(y1), int(x2), int(y2)),
                            &#39;center&#39;: (center_x, center_y),
                            &#39;3d_position&#39;: self.estimate_3d_position(center_x, center_y)
                        }
                        detections.append(detection)
        
        return detections
        
    def estimate_3d_position(self, pixel_x, pixel_y, estimated_depth=500):
        &quot;&quot;&quot;
        Convert 2D pixel coordinates to 3D world coordinates
        This is simplified - real implementation would use stereo vision or depth sensor
        &quot;&quot;&quot;
        # Convert pixel coordinates to camera coordinates
        fx = self.camera_matrix[0, 0]
        fy = self.camera_matrix[1, 1]
        cx = self.camera_matrix[0, 2]
        cy = self.camera_matrix[1, 2]
        
        # Calculate 3D coordinates (relative to camera)
        x_cam = (pixel_x - cx) * estimated_depth / fx
        y_cam = (pixel_y - cy) * estimated_depth / fy
        z_cam = estimated_depth
        
        # Transform to robot base coordinates
        # This transformation depends on camera mounting position
        # Example transformation (camera mounted above workspace)
        x_robot = x_cam + 0      # Camera X offset
        y_robot = y_cam + 200    # Camera Y offset  
        z_robot = 100 - z_cam    # Camera height - object depth
        
        return (x_robot, y_robot, z_robot)
        
    def draw_detections(self, frame, detections):
        &quot;&quot;&quot;Draw detection results on the frame&quot;&quot;&quot;
        for detection in detections:
            x1, y1, x2, y2 = detection[&#39;bbox&#39;]
            center_x, center_y = detection[&#39;center&#39;]
            
            # Draw bounding box
            cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)
            
            # Draw center point
            cv2.circle(frame, (center_x, center_y), 5, (0, 0, 255), -1)
            
            # Draw label
            label = f&quot;{detection[&#39;class&#39;]}: {detection[&#39;confidence&#39;]:.2f}&quot;
            cv2.putText(frame, label, (x1, y1-10), 
                       cv2.FONT_HERSHEY_SIMPLEX, 0.7, (0, 255, 0), 2)
            
            # Draw 3D coordinates
            pos_3d = detection[&#39;3d_position&#39;]
            coord_text = f&quot;({pos_3d[0]:.0f}, {pos_3d[1]:.0f}, {pos_3d[2]:.0f})&quot;
            cv2.putText(frame, coord_text, (x1, y2+20), 
                       cv2.FONT_HERSHEY_SIMPLEX, 0.5, (255, 0, 0), 1)
        
        return frame
        
    def get_pickup_targets(self):
        &quot;&quot;&quot;Get list of objects suitable for pickup&quot;&quot;&quot;
        frame = self.capture_frame()
        if frame is None:
            return []
            
        detections = self.detect_objects(frame)
        
        # Filter detections based on position and accessibility
        pickup_targets = []
        for detection in detections:
            x, y, z = detection[&#39;3d_position&#39;]
            
            # Check if object is within robot&#39;s reach
            distance = np.sqrt(x**2 + y**2)
            if distance &lt; 300 and z &gt; 0:  # Within 300mm reach and above table
                pickup_targets.append(detection)
        
        return pickup_targets
        
    def release(self):
        &quot;&quot;&quot;Clean up resources&quot;&quot;&quot;
        self.camera.release()
        cv2.destroyAllWindows()

# Example usage
if __name__ == &quot;__main__&quot;:
    detector = ObjectDetectionSystem()
    
    try:
        while True:
            frame = detector.capture_frame()
            if frame is None:
                break
                
            detections = detector.detect_objects(frame)
            frame_with_detections = detector.draw_detections(frame, detections)
            
            cv2.imshow(&#39;Object Detection&#39;, frame_with_detections)
            
            if cv2.waitKey(1) &amp; 0xFF == ord(&#39;q&#39;):
                break
                
    finally:
        detector.release()
</code></pre>
                                    </div>
                                </details>
                                
                            </div>
                            
                        </div>
                    </details>
                </section>
                

                <!-- Components & Materials -->
                
                <section class="project-section-clean" id="components" style="margin-top: var(--spacing-lg);">
                    <h3>Components & Materials</h3>
                    <table class="components-table">
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Qty</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            <tr>
                                <td>Servo Motors (MG996R)</td>
                                <td class="component-qty">x6</td>
                            </tr>
                            
                            <tr>
                                <td>Raspberry Pi 4B</td>
                                <td class="component-qty">x1</td>
                            </tr>
                            
                            <tr>
                                <td>Arduino Mega 2560</td>
                                <td class="component-qty">x1</td>
                            </tr>
                            
                            <tr>
                                <td>PCA9685 Servo Driver</td>
                                <td class="component-qty">x1</td>
                            </tr>
                            
                            <tr>
                                <td>USB Camera (1080p)</td>
                                <td class="component-qty">x1</td>
                            </tr>
                            
                            <tr>
                                <td>3D Printed Parts</td>
                                <td class="component-qty">x1</td>
                            </tr>
                            
                            <tr>
                                <td>Ball Bearings (608ZZ)</td>
                                <td class="component-qty">x12</td>
                            </tr>
                            
                            <tr>
                                <td>Power Supply (12V 10A)</td>
                                <td class="component-qty">x1</td>
                            </tr>
                            
                        </tbody>
                    </table>
                </section>
                

                <!-- Meta / Actions (Moved to bottom of left) -->
                <div class="project-meta-bottom">

                    <div class="project-actions-small">
                        
                        <a href="https://github.com/aojedao/6dof-robotic-arm" class="btn-small" target="_blank">
                            <i class="fab fa-github"></i> GitHub
                        </a>
                        

                        
                        <a href="#" class="btn-small" target="_blank">
                            <i class="fas fa-external-link-alt"></i> Demo
                        </a>
                        
                    </div>

                    <div class="project-categories-bottom">
                        
                        <span class="category-tag-small">Robotics</span>
                        
                        <span class="category-tag-small">Computer Vision</span>
                        
                        <span class="category-tag-small">Machine Learning</span>
                        
                        <span class="category-tag-small">3D Printing</span>
                        
                    </div>
                </div>

            </div>

            <!-- Right Column: Media -->
            <div class="project-right-panel">



                <!-- 3D Models Section -->
                
                <section class="project-media-group" id="models">
                    <div class="models-grid-compact">
                        
                        <div class="model-viewer-container">
                            <model-viewer src="/MESGRO/assets/models/robotic-arm/base.gltf"
                                alt="Robotic arm base with servo mounting points" camera-controls
                                auto-rotate="false"
                                background-color="#f0f0f0"
                                shadow-intensity="1" class="model-viewer">
                            </model-viewer>
                        </div>
                        
                        <div class="model-viewer-container">
                            <model-viewer src="/MESGRO/assets/models/robotic-arm/upper-arm.gltf"
                                alt="Upper arm segment with gear reduction" camera-controls
                                auto-rotate="false"
                                background-color="#f0f0f0"
                                shadow-intensity="1" class="model-viewer">
                            </model-viewer>
                        </div>
                        
                    </div>
                </section>
                

                <!-- Media Gallery -->
                
                <section class="project-media-group" id="gallery">
                    <div class="media-gallery-stack">
                        
                        <div class="media-item">
                            
                            
                            <img src="/MESGRO/assets/images/projects/robotic-arm/featured.jpg"
                                alt="6-DOF Robotic arm with vision system" class="gallery-image" data-zoomable>
                            
                            
                            <p class="media-caption">6-DOF Robotic arm with vision system</p>
                            
                        </div>
                        
                    </div>
                </section>
                

                <!-- Visualizations (Interactive HTML Plots) -->
                

                <!-- Plotly for custom plots -->
                

                <!-- Interactive Data Plot (only if page has interactive_plot: true) -->
                
                <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
                <div class="project-media-group">
                    <div class="project-section-clean" id="interactive-data">
    <h3>System Performance Data</h3>

    <!-- Plot Container -->
    <div id="performance-plot"
        style="width:100%; height:400px; background: var(--surface-color); border-radius: var(--radius-lg); border: 1px solid var(--border-color); position: relative;">
        <!-- Loading Overlay -->
        <div id="plot-loading"
            style="position: absolute; inset: 0; display: flex; justify-content: center; align-items: center; background: var(--surface-color); z-index: 10; flex-direction: column; gap: 12px; transition: opacity 0.3s;">
            <div style="font-size: 1.2em; color: var(--text-primary);"><i class="fas fa-circle-notch fa-spin"></i>
                &nbsp; Initializing...</div>
            <div id="plot-status-text" style="color: var(--text-secondary); font-family: monospace; font-size: 0.9em;">
                Preparing...</div>
        </div>
    </div>

    <script>
        (function () {
            const containerId = 'performance-plot';
            const loadingId = 'plot-loading';
            const statusId = 'plot-status-text';

            async function updateStatus(msg) {
                const el = document.getElementById(statusId);
                if (el) el.innerText = msg;
                console.log("[InteractivePlot] " + msg);
                // Allow UI to update
                await new Promise(r => requestAnimationFrame(r));
            }

            async function initPlot() {
                const loadingEl = document.getElementById(loadingId);

                try {
                    // 1. WaitForPlotly
                    if (typeof Plotly === 'undefined') {
                        await updateStatus("Loading Plotly library...");
                        const maxWait = 10000;
                        const start = Date.now();
                        while (typeof Plotly === 'undefined') {
                            if (Date.now() - start > maxWait) throw new Error("Plotly library failed to load (timeout).");
                            await new Promise(r => setTimeout(r, 200));
                        }
                    }

                    // 2. Configuration
                    
                    await updateStatus("No plot configuration found. Showing demo.");
                    // Demo fallback
                    renderPlot([1, 2, 3], [10, 15, 13], null);
                    return;
                    

                    // 3. Fetch Data
                    await updateStatus(`Fetching data files...`);
                    const [xRes, yRes] = await Promise.all([
                        fetch(config.xUrl),
                        fetch(config.yUrl)
                    ]);

                    if (!xRes.ok) throw new Error(`Failed to load X data (${xRes.status})`);
                    if (!yRes.ok) throw new Error(`Failed to load Y data (${yRes.status})`);

                    await updateStatus("Reading data streams...");
                    const xRaw = await xRes.text();
                    const yRaw = await yRes.text();

                    // 4. Parsing
                    await updateStatus("Parsing CSV data...");

                    // Robust parser for flat CSVs (comma or newline separated)
                    const parseNums = (str) => {
                        if (!str) return [];
                        // Replace newlines with commas, split by comma, trim, filter empty
                        return str.replace(/[\r\n]+/g, ',')
                            .split(',')
                            .map(v => v.trim())
                            .filter(v => v !== '')
                            .map(Number)
                            .filter(n => !isNaN(n));
                    };

                    let xData = parseNums(xRaw);
                    let yData = parseNums(yRaw);

                    await updateStatus(`Parsed: ${xData.length} pts (X), ${yData.length} pts (Y)`);

                    if (xData.length === 0 || yData.length === 0) {
                        throw new Error("Data files contained no valid numbers.");
                    }

                    // 5. Validation & Truncation
                    if (xData.length !== yData.length) {
                        const minLen = Math.min(xData.length, yData.length);
                        console.warn(`[InteractivePlot] Length mismatch. X:${xData.length} Y:${yData.length}. Truncating to ${minLen}.`);
                        xData = xData.slice(0, minLen);
                        yData = yData.slice(0, minLen);
                    }

                    // 6. Decimation (for performance)
                    const MAX_POINTS = 8000;
                    if (xData.length > MAX_POINTS) {
                        await updateStatus(`Decimating ${xData.length} points...`);
                        const step = Math.ceil(xData.length / MAX_POINTS);
                        xData = xData.filter((_, i) => i % step === 0);
                        yData = yData.filter((_, i) => i % step === 0);
                    }

                    // 7. Render
                    await updateStatus("Rendering chart...");
                    renderPlot(xData, yData, config);

                } catch (err) {
                    console.error("[InteractivePlot] Error:", err);
                    if (loadingEl) {
                        loadingEl.innerHTML = `
                            <div style="color: #ef4444; font-size: 2em; margin-bottom: 10px;"><i class="fas fa-exclamation-triangle"></i></div>
                            <div style="color: var(--text-primary); font-weight: bold;">Visualization Error</div>
                            <div style="color: var(--text-secondary); text-align: center; font-size: 0.9em; max-width: 300px;">
                                ${err.message}
                            </div>
                        `;
                    }
                }
            }

            function renderPlot(x, y, config) {
                const loadingEl = document.getElementById(loadingId);
                const container = document.getElementById(containerId);

                if (!container) return;

                const trace = {
                    x: x,
                    y: y,
                    type: 'scatter',
                    mode: 'lines',
                    line: { color: '#3b82f6', width: 2 }, // Tailwind blue-500
                    fill: 'tozeroy',
                    fillcolor: 'rgba(59, 130, 246, 0.1)'
                };

                const layout = {
                    paper_bgcolor: 'rgba(0,0,0,0)',
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    font: { color: getComputedStyle(document.body).getPropertyValue('--text-primary').trim() },
                    margin: { l: 60, r: 20, t: 20, b: 60 },
                    xaxis: {
                        title: config ? config.xLabel : 'X',
                        gridcolor: 'rgba(128,128,128,0.2)',
                        zerolinecolor: 'rgba(128,128,128,0.2)'
                    },
                    yaxis: {
                        title: config ? config.yLabel : 'Y',
                        gridcolor: 'rgba(128,128,128,0.2)',
                        zerolinecolor: 'rgba(128,128,128,0.2)'
                    },
                    showlegend: false
                };

                const plotConfig = { responsive: true, displayModeBar: false };

                Plotly.newPlot(containerId, [trace], layout, plotConfig).then(() => {
                    // Fade out loading screen
                    if (loadingEl) {
                        loadingEl.style.opacity = '0';
                        setTimeout(() => loadingEl.style.display = 'none', 300);
                    }
                });
            }

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initPlot);
            } else {
                initPlot();
            }
        })();
    </script>
</div>
                </div>
                

                <!-- Custom Plot Include -->
                

                <!-- Circuit Schematics -->
                
                <section class="project-media-group" id="schematics">
                    <h4>Schematics</h4>
                    <div class="schematics-stack">
                        
                        <div class="schematic-container">
                            <img src="/MESGRO/assets/schematics/robotic-arm/control-system.svg"
                                alt="Main control system with microcontroller and servo drivers"
                                class="schematic-image">
                        </div>
                        
                        <div class="schematic-container">
                            <img src="/MESGRO/assets/schematics/robotic-arm/power-distribution.svg"
                                alt="Power distribution for servos and control electronics"
                                class="schematic-image">
                        </div>
                        
                        <div class="schematic-container">
                            <img src="/MESGRO/assets/schematics/robotic-arm/vision-module.svg"
                                alt="Camera module and processing unit connections"
                                class="schematic-image">
                        </div>
                        
                    </div>
            </div>
            </section>
            

        </div>
    </div>
</div>
</div>

<!-- Project Navigation -->
<div class="project-navigation">
    <div class="container">
        
        
        
        
        
        
        

        <div class="nav-links">
            
            
            <a href="" class="nav-link prev">
                <i class="fas fa-chevron-left"></i>
                <span></span>
            </a>
            

            <a href="/MESGRO/projects/" class="nav-link all-projects">
                <i class="fas fa-th"></i>
                <span>All Projects</span>
            </a>

              <a
                href="/MESGRO/projects/line-following-robot/" class="nav-link next">
                <span>Autonomous Line Following Robot</span>
                <i class="fas fa-chevron-right"></i>
                </a>
                
        </div>
    </div>
</div>
    </main>

    <footer class="site-footer">
    <div class="container">
        <div class="footer-simple">
            <div class="footer-brand">
                <h3 class="mesgro-title">MESGRO</h3>
                <div class="mesgro-definition">
                    <span class="def-highlight">M</span>echanical,
                    <span class="def-highlight">E</span>lectronics &
                    <span class="def-highlight">S</span>oftware
                    <span class="def-highlight">G</span>allery for
                    <span class="def-highlight">RO</span>botics
                </div>
            </div>

            <div class="social-links-center">
                
                <a href="https://github.com/jdgomez2501" target="_blank" aria-label="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                
                
                <a href="https://linkedin.com/in/https://www.linkedin.com/in/your-profile" target="_blank" aria-label="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
                
                
                <a href="https://twitter.com/your-twitter-handle" target="_blank" aria-label="Twitter">
                    <i class="fab fa-twitter"></i>
                </a>
                
                
                <a href="mailto:jdgg2501@gmail.com" aria-label="Email">
                    <i class="fas fa-envelope"></i>
                </a>
                
            </div>

            <div class="footer-credits">
                <p>&copy; 2026 Your Name. Built with &hearts; using Jekyll.</p>
                <p>Designed and developed by <strong>Alejandro Ojeda Olarte</strong></p>
                <p><a href="https://github.com/aojedao/MESGRO" target="_blank">MESGRO Template</a></p>
            </div>
        </div>
    </div>
</footer>

    <!-- Scripts -->
    <script src="/MESGRO/assets/js/main.js"></script>
    <script src="/MESGRO/assets/js/circuit-bg.js"></script>

    <!-- 3D Model Viewer -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

    <!-- Three.js for additional 3D functionality -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Image zoom library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js"></script>

    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Plotly.js for interactive data visualization -->
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>

    
    <script src="/MESGRO/assets/js/project-viewer.js"></script>
    
</body>

</html>